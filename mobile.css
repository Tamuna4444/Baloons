/* ✅ ეს ფაილი არ ეხება დესკტოპს საერთოდ */

html, body{
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;     /* Safari-ს “გაწელვა/scroll” რომ არ ქონდეს */
  touch-action: none;
}

.rotate-overlay.hidden{ display:none; }

.rotate-overlay{
  position: fixed;
  inset: 0;
  z-index: 99999;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,0.45);
  backdrop-filter: blur(6px);
}

.rotate-card{
  width: min(92vw, 420px);
  padding: 18px;
  border-radius: 18px;
  background: rgba(255, 248, 230, 0.95);
  box-shadow: 0 18px 40px rgba(0,0,0,0.45);
  text-align: center;
  color: #4a3a1a;
}

@media (orientation: portrait) {
  #rotateOverlay{ display:grid; }
  #mainScreen, #mainMenu{ display:none !important; }
}

@media (orientation: landscape) {
  #rotateOverlay{ display:none; }
  #mainScreen, #mainMenu{ display:block; }
}
#mainScreen{
  height: calc(var(--vh, 1vh) * 100);
  width: 100vw;
  overflow: hidden;
  position: relative;
}

@supports (height: 100dvh){
  #mainScreen{ height: 100dvh; }
}

#gameArea{
  width: 100%;
  height: 100%;
  overflow: hidden;
}

/* Summary modal პატარა landscape-ზე */
@media (orientation: landscape) and (max-height: 460px) {
  .modal-card{
    width: min(420px, 92vw);
    max-height: 88svh;
    overflow: auto;
    padding: 16px 14px;
  }
  .big-score{ font-size: 38px; }
  .scoreboard{ max-height: 140px; overflow:auto; }
}
/* ✅ MOBILE ONLY (touch devices) */

/* მენიუ სრულ ეკრანზე სწორად (საფარი vh პრობლემის გარეშე) */
#mainMenu.main-menu{
  height: 100svh;
}
@supports (height: 100dvh){
  #mainMenu.main-menu{ height: 100dvh; }
}

/* Landscape-ზე Start ღილაკი ვიზუალურად უკეთეს ადგილზე */
@media (orientation: landscape){
  #mainMenu.main-menu{
    align-items: flex-start;                 /* აღარ იყოს ზუსტად ცენტრში */
    padding-top: max(50svh, 28px); 
  }
  .menu-content{
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 14px;
  }

  .start-button{
    font-size: 24px;
    padding: 12px 40px;
    border-radius: 36px;
  }

  /* settings ღილაკი safe-area-ზე */
  .settings-btn{
    top: max(14px, env(safe-area-inset-top));
    right: max(14px, env(safe-area-inset-right));
  }
}

/* landscape ტელეფონზე: overlay გამორთე */
@media (orientation: landscape) and (hover: none) and (pointer: coarse) {
  #rotateOverlay { display: none; }

  /* ✅ mainScreen გამოჩნდეს როცა hidden არაა */
  #mainScreen.hidden { display: none !important; }
  #mainScreen:not(.hidden) { display: block !important; }

  /* ✅ mainMenu გამოჩნდეს მხოლოდ როცა hidden არაა */
  #mainMenu.hidden { display: none !important; }
  #mainMenu:not(.hidden) { display: flex !important; } /* შენთან mainMenu flex-ია */
}
/* ===== Summary modal: mobile sizing ===== */
/* ===== Summary modal: mobile sizing (ALL phones) ===== */
@media (hover: none) and (pointer: coarse) {
  .modal{
    padding: 10px;
    place-items: center;
  }

  .modal-card{
    width: min(360px, 92vw);
    padding: 16px 14px;
    border-radius: 20px;
    max-height: calc(var(--vh, 1vh) * 100 - 20px);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .modal-title{ font-size: 20px; }
  .modal-text{ font-size: 13px; }
  .big-score{ font-size: 34px; margin: 6px 0 10px; }

  .scoreboard{
    max-height: 140px;
    overflow: auto;
  }

  .btn{
    padding: 12px 14px;
    font-size: 14px;
  }


  /* scoreboard blocks often make modal too tall */
  .scoreboard{
    margin: 10px 0 0;
    padding: 10px;
    border-radius: 16px;
    max-height: 150px;
    overflow: auto;
  }
}
/* ===== MOBILE: smaller houses + tighter spacing ===== */
@media (hover: none) and (pointer: coarse) {
  .street{
    gap: 34px;            /* იყო 80px style.css-ში */
    bottom: 6px;
  }

  /* პატარა სახლები */
  .house.level-0 .house-inner { transform: scale(0.72); }
  .house.level-1 .house-inner { transform: scale(0.82); }
  .house.level-2 .house-inner { transform: scale(0.95); }

  /* თუ მაინც დიდია, ამ ერთს კიდევ დაუწიე: */
  /* .house img { width: 160px; } */
}
@media (hover: none) and (pointer: coarse) {
  .anchor{
    width: 180px;
    height: 120px;
    top: 18px;   /* ოდნავ მაღლა, რომ დამიზნება გაიოლდეს */
  }
}
@media (orientation: landscape) and (max-width: 1024px) and (hover: none) and (pointer: coarse) {

  html, body{
    height: 100%;
    overflow: hidden;
  }

  /* ფანჯარა მოერგოს ლენდსქეიპის დაბალ სიმაღლეს */
  .game-window{
    height: calc(var(--vh) - 16px) !important;
    max-height: calc(var(--vh) - 16px) !important;

    margin: 8px auto !important;
    padding: 14px 12px 14px !important;
  }

  /* შიგნით თუ რამე მეტია, სკროლი დაეშვას შიგნით */
  .window-body{
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
}

input, button {
    font-size: 16px !important;
}
